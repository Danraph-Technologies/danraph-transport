import React from "react";
import { Link, useLocation } from "react-router-dom";

const Sidebar = ({ closeSidebar }) => {
  const location = useLocation();
  // Helper to check if a link is active
  const isActive = (path) => location.pathname === path;

  return (
    <div className="border-r border-gray-300 h-full   max-w-[250px] sm:max-w-[230px] sm:w-[230px] w-full bg-white sm:pt-[103px]">
      <div className="flex flex-col gap-5 pl-6 sm:pt-5 pt-10">
        <Link
          to="/drivers/dashboard"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/dashboard")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="16"
            height="17"
            viewBox="0 0 16 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.1336 7.49083L8.88359 1.24083C8.64919 1.00658 8.33137 0.875 7.99999 0.875C7.66861 0.875 7.3508 1.00658 7.1164 1.24083L0.866399 7.49083C0.749762 7.6066 0.657304 7.7444 0.594402 7.89623C0.531499 8.04805 0.499408 8.21086 0.499993 8.3752V15.8752C0.499993 16.041 0.565841 16.1999 0.683051 16.3171C0.800261 16.4344 0.959232 16.5002 1.12499 16.5002H14.875C15.0408 16.5002 15.1997 16.4344 15.3169 16.3171C15.4341 16.1999 15.5 16.041 15.5 15.8752V8.3752C15.5006 8.21086 15.4685 8.04805 15.4056 7.89623C15.3427 7.7444 15.2502 7.6066 15.1336 7.49083ZM14.25 15.2502H1.74999V8.3752L7.99999 2.1252L14.25 8.3752V15.2502Z"
              fill="#585858"
            />
          </svg>
          <span className="text-[17px]">Dashboard</span>
        </Link>

        <Link
          to="/drivers/ride"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/ride")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_188_2513)">
              <path
                d="M18.75 8.75001H16.5086L13.125 5.36641C13.0093 5.24983 12.8717 5.15741 12.72 5.09451C12.5683 5.0316 12.4056 4.99948 12.2414 5.00001H3.45937C3.25406 5.00039 3.052 5.05134 2.87104 5.14835C2.69009 5.24537 2.53583 5.38546 2.42188 5.55626L0.104688 9.02813C0.036603 9.13102 0.000203795 9.25163 0 9.37501L0 13.125C0 13.4565 0.131696 13.7745 0.366117 14.0089C0.600537 14.2433 0.918479 14.375 1.25 14.375H2.57812C2.71581 14.9128 3.02856 15.3894 3.46707 15.7298C3.90557 16.0702 4.44489 16.2549 5 16.2549C5.55511 16.2549 6.09443 16.0702 6.53293 15.7298C6.97144 15.3894 7.28419 14.9128 7.42188 14.375H12.5781C12.7158 14.9128 13.0286 15.3894 13.4671 15.7298C13.9056 16.0702 14.4449 16.2549 15 16.2549C15.5551 16.2549 16.0944 16.0702 16.5329 15.7298C16.9714 15.3894 17.2842 14.9128 17.4219 14.375H18.75C19.0815 14.375 19.3995 14.2433 19.6339 14.0089C19.8683 13.7745 20 13.4565 20 13.125V10C20 9.66849 19.8683 9.35054 19.6339 9.11612C19.3995 8.8817 19.0815 8.75001 18.75 8.75001ZM3.45937 6.25001H12.2414L14.7414 8.75001H1.79688L3.45937 6.25001ZM5 15C4.75277 15 4.5111 14.9267 4.30554 14.7893C4.09998 14.652 3.93976 14.4568 3.84515 14.2284C3.75054 14 3.72579 13.7486 3.77402 13.5061C3.82225 13.2637 3.9413 13.0409 4.11612 12.8661C4.29093 12.6913 4.51366 12.5723 4.75614 12.524C4.99861 12.4758 5.24995 12.5005 5.47835 12.5952C5.70676 12.6898 5.90199 12.85 6.03934 13.0555C6.17669 13.2611 6.25 13.5028 6.25 13.75C6.25 14.0815 6.1183 14.3995 5.88388 14.6339C5.64946 14.8683 5.33152 15 5 15ZM15 15C14.7528 15 14.5111 14.9267 14.3055 14.7893C14.1 14.652 13.9398 14.4568 13.8451 14.2284C13.7505 14 13.7258 13.7486 13.774 13.5061C13.8222 13.2637 13.9413 13.0409 14.1161 12.8661C14.2909 12.6913 14.5137 12.5723 14.7561 12.524C14.9986 12.4758 15.2499 12.5005 15.4784 12.5952C15.7068 12.6898 15.902 12.85 16.0393 13.0555C16.1767 13.2611 16.25 13.5028 16.25 13.75C16.25 14.0815 16.1183 14.3995 15.8839 14.6339C15.6495 14.8683 15.3315 15 15 15ZM18.75 13.125H17.4219C17.2842 12.5872 16.9714 12.1106 16.5329 11.7702C16.0944 11.4299 15.5551 11.2451 15 11.2451C14.4449 11.2451 13.9056 11.4299 13.4671 11.7702C13.0286 12.1106 12.7158 12.5872 12.5781 13.125H7.42188C7.28419 12.5872 6.97144 12.1106 6.53293 11.7702C6.09443 11.4299 5.55511 11.2451 5 11.2451C4.44489 11.2451 3.90557 11.4299 3.46707 11.7702C3.02856 12.1106 2.71581 12.5872 2.57812 13.125H1.25V10H18.75V13.125Z"
                fill="#585858"
              />
            </g>
            <defs>
              <clipPath id="clip0_188_2513">
                <rect width="20" height="20" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <span className="text-[17px]">Ride Requests</span>
        </Link>

        <Link
          to="/drivers/wallet"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/wallet")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="17"
            height="15"
            viewBox="0 0 17 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.875 3H2.375C2.20924 3 2.05027 2.93415 1.93306 2.81694C1.81585 2.69973 1.75 2.54076 1.75 2.375C1.75 2.20924 1.81585 2.05027 1.93306 1.93306C2.05027 1.81585 2.20924 1.75 2.375 1.75H13C13.1658 1.75 13.3247 1.68415 13.4419 1.56694C13.5592 1.44973 13.625 1.29076 13.625 1.125C13.625 0.95924 13.5592 0.800269 13.4419 0.683058C13.3247 0.565848 13.1658 0.5 13 0.5H2.375C1.87772 0.5 1.40081 0.697544 1.04917 1.04917C0.697544 1.40081 0.5 1.87772 0.5 2.375V12.375C0.5 12.8723 0.697544 13.3492 1.04917 13.7008C1.40081 14.0525 1.87772 14.25 2.375 14.25H14.875C15.2065 14.25 15.5245 14.1183 15.7589 13.8839C15.9933 13.6495 16.125 13.3315 16.125 13V4.25C16.125 3.91848 15.9933 3.60054 15.7589 3.36612C15.5245 3.1317 15.2065 3 14.875 3ZM14.875 13H2.375C2.20924 13 2.05027 12.9342 1.93306 12.8169C1.81585 12.6997 1.75 12.5408 1.75 12.375V4.14297C1.95068 4.21411 2.16208 4.25031 2.375 4.25H14.875V13ZM11.125 8.3125C11.125 8.12708 11.18 7.94582 11.283 7.79165C11.386 7.63748 11.5324 7.51732 11.7037 7.44636C11.875 7.37541 12.0635 7.35684 12.2454 7.39301C12.4273 7.42919 12.5943 7.51848 12.7254 7.64959C12.8565 7.7807 12.9458 7.94775 12.982 8.1296C13.0182 8.31146 12.9996 8.49996 12.9286 8.67126C12.8577 8.84257 12.7375 8.98899 12.5833 9.092C12.4292 9.19502 12.2479 9.25 12.0625 9.25C11.8139 9.25 11.5754 9.15123 11.3996 8.97541C11.2238 8.7996 11.125 8.56114 11.125 8.3125Z"
              fill="#585858"
            />
          </svg>
          <span className="text-[17px]">Wallet/Earnings</span>
        </Link>

        <Link
          to="/drivers/trips"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/trips")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="17"
            height="16"
            viewBox="0 0 17 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.625 4.25002V7.64612L12.4469 9.33909C12.589 9.42445 12.6914 9.56279 12.7316 9.72366C12.7717 9.88453 12.7463 10.0548 12.6609 10.1969C12.5756 10.339 12.4372 10.4414 12.2764 10.4816C12.1155 10.5217 11.9453 10.4963 11.8031 10.411L8.67812 8.53596C8.58563 8.48039 8.50911 8.40183 8.45599 8.30791C8.40287 8.21399 8.37497 8.10792 8.375 8.00002V4.25002C8.375 4.08426 8.44085 3.92529 8.55806 3.80808C8.67527 3.69087 8.83424 3.62502 9 3.62502C9.16576 3.62502 9.32473 3.69087 9.44194 3.80808C9.55915 3.92529 9.625 4.08426 9.625 4.25002ZM9 0.500023C8.01406 0.497567 7.03742 0.690675 6.12661 1.06817C5.21579 1.44566 4.38889 2.00005 3.69375 2.69924C3.12578 3.27424 2.62109 3.82737 2.125 4.40627V3.00002C2.125 2.83426 2.05915 2.67529 1.94194 2.55808C1.82473 2.44087 1.66576 2.37502 1.5 2.37502C1.33424 2.37502 1.17527 2.44087 1.05806 2.55808C0.940848 2.67529 0.875 2.83426 0.875 3.00002V6.12502C0.875 6.29078 0.940848 6.44975 1.05806 6.56697C1.17527 6.68418 1.33424 6.75002 1.5 6.75002H4.625C4.79076 6.75002 4.94973 6.68418 5.06694 6.56697C5.18415 6.44975 5.25 6.29078 5.25 6.12502C5.25 5.95926 5.18415 5.80029 5.06694 5.68308C4.94973 5.56587 4.79076 5.50002 4.625 5.50002H2.82812C3.38672 4.84221 3.94297 4.22268 4.57734 3.58049C5.44598 2.71186 6.55133 2.11847 7.75529 1.87446C8.95924 1.63045 10.2084 1.74665 11.3467 2.20853C12.485 2.67041 13.4619 3.45749 14.1555 4.47144C14.849 5.48538 15.2283 6.68121 15.2461 7.90952C15.2639 9.13782 14.9193 10.3441 14.2554 11.3777C13.5915 12.4113 12.6377 13.2263 11.5132 13.7209C10.3888 14.2155 9.1435 14.3678 7.93299 14.1587C6.72249 13.9496 5.60043 13.3885 4.70703 12.5453C4.64732 12.4889 4.57708 12.4448 4.50032 12.4155C4.42356 12.3862 4.34179 12.3724 4.25967 12.3747C4.17754 12.377 4.09668 12.3955 4.0217 12.429C3.94672 12.4626 3.87908 12.5106 3.82266 12.5703C3.76623 12.63 3.72212 12.7003 3.69283 12.777C3.66355 12.8538 3.64967 12.9356 3.652 13.0177C3.65432 13.0998 3.67279 13.1807 3.70636 13.2557C3.73993 13.3306 3.78795 13.3983 3.84766 13.4547C4.73785 14.2948 5.82012 14.9042 7 15.2298C8.17989 15.5554 9.42153 15.5873 10.6166 15.3226C11.8116 15.058 12.9237 14.505 13.8559 13.7117C14.788 12.9184 15.5118 11.9091 15.9642 10.7718C16.4165 9.63442 16.5836 8.40366 16.4509 7.18689C16.3182 5.97011 15.8897 4.80431 15.2029 3.79122C14.516 2.77813 13.5916 1.94854 12.5104 1.37485C11.4292 0.801167 10.224 0.50082 9 0.500023Z"
              fill="#585858"
            />
          </svg>
          <span>My Trips</span>
        </Link>

        <Link
          to="/drivers/support"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/support")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.7727 4.27031C15.025 3.51514 14.1357 2.91486 13.1558 2.50383C12.1758 2.09281 11.1244 1.87912 10.0617 1.875H10C7.84512 1.875 5.77849 2.73102 4.25476 4.25476C2.73102 5.77849 1.875 7.84512 1.875 10V14.375C1.875 14.8723 2.07254 15.3492 2.42417 15.7008C2.77581 16.0525 3.25272 16.25 3.75 16.25H5C5.49728 16.25 5.9742 16.0525 6.32583 15.7008C6.67746 15.3492 6.875 14.8723 6.875 14.375V11.25C6.875 10.7527 6.67746 10.2758 6.32583 9.92417C5.9742 9.57254 5.49728 9.375 5 9.375H3.15313C3.27366 8.07182 3.76315 6.83 4.56424 5.79508C5.36532 4.76016 6.44481 3.97502 7.67617 3.53169C8.90753 3.08836 10.2398 3.0052 11.5167 3.29196C12.7936 3.57872 13.9624 4.22352 14.8859 5.15078C16.0148 6.28539 16.7091 7.78052 16.8477 9.375H15C14.5027 9.375 14.0258 9.57254 13.6742 9.92417C13.3225 10.2758 13.125 10.7527 13.125 11.25V14.375C13.125 14.8723 13.3225 15.3492 13.6742 15.7008C14.0258 16.0525 14.5027 16.25 15 16.25H16.875C16.875 16.7473 16.6775 17.2242 16.3258 17.5758C15.9742 17.9275 15.4973 18.125 15 18.125H10.625C10.4592 18.125 10.3003 18.1908 10.1831 18.3081C10.0658 18.4253 10 18.5842 10 18.75C10 18.9158 10.0658 19.0747 10.1831 19.1919C10.3003 19.3092 10.4592 19.375 10.625 19.375H15C15.8288 19.375 16.6237 19.0458 17.2097 18.4597C17.7958 17.8737 18.125 17.0788 18.125 16.25V10C18.1291 8.93717 17.9234 7.88398 17.5197 6.90077C17.1161 5.91757 16.5224 5.02368 15.7727 4.27031ZM5 10.625C5.16576 10.625 5.32473 10.6908 5.44194 10.8081C5.55915 10.9253 5.625 11.0842 5.625 11.25V14.375C5.625 14.5408 5.55915 14.6997 5.44194 14.8169C5.32473 14.9342 5.16576 15 5 15H3.75C3.58424 15 3.42527 14.9342 3.30806 14.8169C3.19085 14.6997 3.125 14.5408 3.125 14.375V10.625H5ZM15 15C14.8342 15 14.6753 14.9342 14.5581 14.8169C14.4408 14.6997 14.375 14.5408 14.375 14.375V11.25C14.375 11.0842 14.4408 10.9253 14.5581 10.8081C14.6753 10.6908 14.8342 10.625 15 10.625H16.875V15H15Z"
              fill="#585858"
            />
          </svg>
          <span className="text-[17px]">Support</span>
        </Link>

        <Link
          to="/drivers/settings"
          onClick={closeSidebar}
          className={`flex items-center gap-2 px-2 py-2 transition-colors duration-200 hover:bg-gray-100 ${
            isActive("/drivers/settings")
              ? "bg-gray-100 border-l-[4px] border-gray-400"
              : ""
          }`}
        >
          <svg
            width="20"
            height="21"
            viewBox="0 0 20 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10 6.75015C9.25832 6.75015 8.53329 6.97008 7.91661 7.38214C7.29992 7.79419 6.81928 8.37986 6.53545 9.06509C6.25162 9.75031 6.17736 10.5043 6.32205 11.2317C6.46675 11.9592 6.8239 12.6274 7.34835 13.1518C7.87279 13.6762 8.54098 14.0334 9.26841 14.1781C9.99584 14.3228 10.7498 14.2485 11.4351 13.9647C12.1203 13.6809 12.706 13.2002 13.118 12.5835C13.5301 11.9669 13.75 11.2418 13.75 10.5001C13.749 9.5059 13.3535 8.55268 12.6505 7.84964C11.9475 7.1466 10.9942 6.75118 10 6.75015ZM10 13.0001C9.50554 13.0001 9.02219 12.8535 8.61107 12.5788C8.19995 12.3041 7.87952 11.9137 7.6903 11.4569C7.50108 11 7.45157 10.4974 7.54803 10.0124C7.6445 9.52747 7.8826 9.08201 8.23223 8.73238C8.58186 8.38275 9.02732 8.14465 9.51227 8.04818C9.99722 7.95172 10.4999 8.00123 10.9567 8.19045C11.4135 8.37967 11.804 8.7001 12.0787 9.11122C12.3534 9.52235 12.5 10.0057 12.5 10.5001C12.5 11.1632 12.2366 11.7991 11.7678 12.2679C11.2989 12.7368 10.663 13.0001 10 13.0001ZM18.5891 8.87593C18.5717 8.78792 18.5355 8.70469 18.4831 8.63189C18.4306 8.55909 18.3631 8.49844 18.2852 8.45405L15.9547 7.12593L15.9453 4.49937C15.945 4.40891 15.9251 4.31959 15.8869 4.23758C15.8488 4.15557 15.7932 4.08282 15.7242 4.02437C14.8788 3.30929 13.9053 2.76129 12.8555 2.40952C12.7728 2.38154 12.6852 2.37118 12.5982 2.37912C12.5113 2.38706 12.427 2.41312 12.3508 2.45562L10 3.76968L7.64687 2.45327C7.57058 2.41053 7.48618 2.38428 7.39911 2.37621C7.31204 2.36813 7.22425 2.37842 7.1414 2.4064C6.0923 2.76074 5.11991 3.31082 4.27578 4.02749C4.20685 4.08586 4.15139 4.15848 4.11322 4.24035C4.07505 4.32222 4.05508 4.41138 4.05468 4.50171L4.04296 7.13062L1.7125 8.45874C1.63453 8.50313 1.56703 8.56378 1.51459 8.63658C1.46215 8.70937 1.426 8.7926 1.40859 8.88062C1.19531 9.9524 1.19531 11.0557 1.40859 12.1275C1.426 12.2155 1.46215 12.2987 1.51459 12.3715C1.56703 12.4443 1.63453 12.505 1.7125 12.5494L4.04296 13.8775L4.05234 16.5041C4.05262 16.5945 4.07254 16.6838 4.11071 16.7658C4.14888 16.8479 4.2044 16.9206 4.27343 16.9791C5.1188 17.6941 6.09231 18.2421 7.14218 18.5939C7.22486 18.6219 7.31248 18.6322 7.39941 18.6243C7.48633 18.6164 7.57063 18.5903 7.64687 18.5478L10 17.2306L12.3531 18.547C12.4462 18.5989 12.5512 18.6258 12.6578 18.6251C12.7261 18.6251 12.7939 18.614 12.8586 18.5923C13.9076 18.2385 14.88 17.6889 15.7242 16.9728C15.7931 16.9144 15.8486 16.8418 15.8868 16.7599C15.9249 16.6781 15.9449 16.5889 15.9453 16.4986L15.957 13.8697L18.2875 12.5416C18.3655 12.4972 18.433 12.4365 18.4854 12.3637C18.5378 12.2909 18.574 12.2077 18.5914 12.1197C18.8035 11.0488 18.8027 9.94655 18.5891 8.87593ZM17.4172 11.6033L15.1852 12.8728C15.0874 12.9284 15.0064 13.0094 14.9508 13.1072C14.9055 13.1853 14.8578 13.2681 14.8094 13.3462C14.7474 13.4448 14.7143 13.5587 14.7141 13.6751L14.7023 16.1947C14.1024 16.6658 13.434 17.0426 12.7203 17.3119L10.4687 16.0572C10.3753 16.0055 10.2701 15.9786 10.1633 15.9791H10.1484C10.0539 15.9791 9.95859 15.9791 9.86406 15.9791C9.75225 15.9763 9.64171 16.0032 9.54375 16.0572L7.29062 17.315C6.57539 17.0477 5.90517 16.6729 5.30312 16.2033L5.29453 13.6876C5.29414 13.571 5.26113 13.4568 5.19922 13.358C5.15078 13.2798 5.10312 13.2017 5.05859 13.1189C5.00337 13.0196 4.92241 12.937 4.82421 12.8798L2.58984 11.6072C2.47421 10.8758 2.47421 10.1308 2.58984 9.39937L4.81796 8.12749C4.91576 8.07188 4.99673 7.99091 5.05234 7.89312C5.09765 7.81499 5.14531 7.73218 5.19375 7.65405C5.25575 7.55553 5.28878 7.44155 5.28906 7.32515L5.30078 4.80562C5.90072 4.33448 6.56911 3.95774 7.28281 3.68843L9.53125 4.94312C9.6291 4.99736 9.73972 5.02434 9.85156 5.02124C9.94609 5.02124 10.0414 5.02124 10.1359 5.02124C10.2477 5.02404 10.3583 4.99707 10.4562 4.94312L12.7094 3.6853C13.4246 3.95255 14.0948 4.32744 14.6969 4.79702L14.7055 7.31265C14.7059 7.42928 14.7389 7.54349 14.8008 7.64234C14.8492 7.72046 14.8969 7.79859 14.9414 7.8814C14.9966 7.9807 15.0776 8.06329 15.1758 8.12046L17.4102 9.39312C17.5273 10.1251 17.5286 10.8709 17.4141 11.6033H17.4172Z"
              fill="#585858"
            />
          </svg>
          <span className="text-[17px]">Settings</span>
        </Link>
      </div>
    </div>
  );
};

export default Sidebar;
